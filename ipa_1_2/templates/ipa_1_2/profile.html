<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>profile</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    {% load static %}
    <link rel="stylesheet" href="{% static 'ipa_1_2/SliderStyle.css' %}">
    <link rel="stylesheet" href="{% static 'ipa_1_2/getSimilarity.css' %}">
    <link rel="stylesheet" href="{% static 'ipa_1_2/anchorsStyle.css' %}">
  </head>
  <body id="body">
    <div class="slidecontainer text-center" id="slidecontainer">
    </div>
    <br>
    <br>
      <div class="container text-center">
        <div id="profileDescriptionDiv">
          <textarea style="direction: rtl; resize: none" id="profileDescription" placeholder="הכנס תיאור כאן" name="profileDescription" cols="80" rows="8"></textarea>
        </div>
        <button id="showReportButton" class="btn btn-primary btn" type="button" name="button">Show Report</button>
      </div>

      <div id="practiceTrialsInstructions" class="container text-center">
        <div style="direction: rtl">
          <h3>{{ off_order_instructions_dict.practiceTrialsInstructions }}</h3>
        </div>
      </div>


      <div id="SimilarityReportSection" class="row profiles_size" style="direction:ltr">
        <br>
        <br>
        <canvas id="myCanvas" width="400" height="320"></canvas>
        <br/>
        <div class="column side">{{ off_order_instructions_dict.lowSimilarity }}</div>
        <div class="column middle">
          <input type="range" min="0" max="100" value="50" class="slider" id="myRange" name="maxSimilarityValue">
        </div>
        <div class="column side">{{ off_order_instructions_dict.highSimilarity }}</div>
      </div>

      <!-- consider deleting the following -->
      <div class="container">
        <input type="hidden" name="form_phase" value="{{ form_phase }}">
      </div>
      <div class="container" id="hiddenInputs"></div>
      <!-- end deletion consideration -->

      <div id="NextProfileButtonSection"class="container text-center">
        <br>
        <br>
        <br>
        <button id="NextProfileButton" class="btn btn-primary btn" type="button" name="button">בחר\י והמשיכ\י</button>
        <br>
        <br>
        <br>
      </div>

      <div id="maxAnchor" class="box arrow-top">
        <span>{{maxName}}</span>
    </div>

    <div id="minAnchor" class="box arrow-top">
      <span>{{minName}}</span>
    </div>
      <script>
       var context = {{context|safe}}
       var maxValue = {{maxValue|safe}}
       var minValue = {{minValue|safe}}
      // working with the variable context
      </script>
    </div>
    <form id="subjectResonseForm" method="post">
      {% csrf_token %}
      <input type="hidden" name="form_phase" value="{{ form_phase }}">
      <input id="subjectResonses" type="hidden" name="responses" value="">
      <input id="profilesList" type="hidden" name="profilesList" value="">
      <input id="profilesDescriptions" type="hidden" name="profilesDescriptions" value="">
      <input id="subjectRTs" type="hidden" name="subjectRTs" value="">
      <input id="trial" type="hidden" name="currentTrial" value="">
    </form>
  </body>

  <script
  src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
  crossorigin="anonymous"></script>

  <script src="{% static 'ipa_1_2/SliderLogic.js' %}"></script>
  <script src="{% static 'ipa_1_2/getSimilarity.js' %}"></script>
  <script src="{% static 'ipa_1_2/anchorsLogic.js' %}"></script>
  <script>
    // followin have to happen after anchor script
    document.getElementById("SimilarityReportSection").style.display = "none";
    document.getElementById("practiceTrialsInstructions").style.display = "none";
    document.getElementById("NextProfileButtonSection").style.display = "none";
  </script>
</html>
